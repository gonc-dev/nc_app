{% extends 'window.html' %}

{% load markdownify %}

{% block contents %}
  <style>
    #shop-address {
      height: 240px;
    }

    .card-body h4 {
      font-size: 1.5rem;
    }
    .card-body h3 {
      font-size: 2rem;
    }

    .card-body p {
      margin-left: 2rem;
    }

    .about-img {
      display: flex;
      justify-content: center;
      height: 30vh;
      background-color: rgba(0,0,0,0.3)
    }

    .about-img img {
      height: 100%;
      width: auto;
    }

    .card-body {
      justify-content: center;
    }
  </style>
    <section class="content" id="info">
        <div class="about-img mb-3">
          <img src="{{settings.about_page_image.url}}" alt="Card image cap">
        </div>
        <div class="container">
            
            <div class="card-deck">
              <div class="card">
                <div class="card-body">
                  <h3 class="card-title">Nomies Collection</h3>
                  <div class="card-text">{{settings.about_page_text | markdownify}}</div>
                </div>
              </div>
              <div class="card">
                <div class="card-body text-left">
                  <h3 class="card-title text-left"> <i class="fa fa-map-marker" aria-hidden="true"></i> Address</h3>
                  <div>{{settings.shop_address}}</div>
                   <div id="shop-address"></div>
                    <hr>
                  <h3 class="card-title"> <i class="fa fa-address-book" aria-hidden="true"></i> Contact</h3>
                  <h4> <i class="fa fa-at" aria-hidden="true"></i> Email</h4>
                  <p><a href="mailto:{{settings.shop_email}}">{{settings.shop_email}}</a></p>
                  <h4> <i class="fa fa-phone" aria-hidden="true"></i> Phone</h4>
                  <p>{{settings.shop_telephone}}</p>
                </div>
              </div>
            </div>
        </div>
    </section>

    <script>
      const target = [-17.8301, 31.0458]
      var mymap = L.map('shop-address').setView(target, 18);      L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
            accessToken: 'pk.eyJ1IjoibmFrYW11cmE5YSIsImEiOiJja2VudzNjMGMxNG13MnJtcWZkdzJkeXg1In0.5IQMQrhYioh0EMJr1CLRgQ'
        }).addTo(mymap);
    
      var marker = L.marker(target).addTo(mymap);
    </script>

{% endblock contents %}